<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictions - Stock Price Forecaster</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/predictions_styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body id="body">

    <!-- Navigation Bar -->
    <header>
        <nav>
            <img src="{{ url_for('static', filename='images/ForeStock.png') }}" alt="Logo" class="logo">
            <ul class="navbar">
                <li><a href="{{ url_for('home') }}">Home</a></li>
                <li><a href="{{ url_for('predictions') }}" class="active">Predictions</a></li>
                <li><a href="{{ url_for('news') }}">News</a></li>
                <li><a href="{{ url_for('trends') }}">Trends</a></li>
            </ul>
            <div class="search-container">
                <input type="text" id="stock-search" placeholder="Search for trends or stocks...">
                <button type="button" id="search-button"><i class="fas fa-search"></i> Search</button>
            </div>
            <div class="nav-icons">
                <a href="#" class="icon" id="notification-icon"><i class="fas fa-bell"></i></a>
                <a href="#" class="icon" id="mode-icon"><i class="fas fa-moon"></i></a>
            </div>
        </nav>
    </header>

    <!-- Notifications Tab -->
    <div class="notifications-tab" id="notifications-tab">
        <div class="notifications-content">
            <h3>Notifications</h3>
            <ul>
                <li>Stock Market Hits Record Highs!</li>
                <li>Tech Stocks Lead the Way!</li>
                <li>Fed Signals Interest Rate Changes</li>
                <li>New IPOs Spark Investor Interest</li>
            </ul>
        </div>
    </div>

    <!-- Prediction Section -->
    <!-- Prediction Results and Chart Container -->
<section class="prediction-section">
    <div class="prediction-container">
        <h2>Stock Price Predictions</h2>
        <p>Enter a stock ticker to predict its price movement.</p>
    <form id="prediction-form" method="POST" action="{{ url_for('predictions') }}">
    <input type="text" name="ticker" id="stock-ticker" placeholder="Enter Stock Ticker (e.g., AAPL)" required>
    
    <label>Prediction Range:</label>
    <div class="day-toggle">
        <label><input type="radio" name="days" value="1" {% if days == 1 %}checked{% endif %}> 1 Day</label>
        <label><input type="radio" name="days" value="15" {% if days == 15 %}checked{% endif %}> 15 Days</label>
        <label><input type="radio" name="days" value="30" {% if days == 30 %}checked{% endif %}> 30 Days</label>
    </div>

    <button type="submit" id="predict-button"><i class="fas fa-play"></i> Predict</button>
</form>


    </div>

    <div id="prediction-results" class="results-container">
        <h3>Predicted Price for <span id="ticker-result">-</span></h3>
        <div id="loading-spinner" class="loading-spinner" style="display: none;">
            <i class="fas fa-spinner fa-spin"></i> <span class="loading">Loading...</span>
        </div>

        <p id="current-price"><strong>Current Price:</strong> $-</p>
        <p id="prediction-price"><strong>Predicted Price:</strong> $-</p>

        <div class="results-chart-container">
            <!-- Prediction Table -->
            <div class="table-container">
                <h4>Future Predictions</h4>
                <table id="prediction-table" class="prediction-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Predicted Price</th>
                        </tr>
                    </thead>
                    <tbody id="prediction-table-body">
                        <!-- JS will inject rows here -->
                    </tbody>
                </table>
            </div>

            
            <!-- Chart Section -->
            <div class="chart-container">
                <canvas id="predictionChart"></canvas>
                <canvas id="secondaryChart" style="margin-top: 50px;"></canvas>

            </div>
        </div>


        
        <!-- Download CSV Form -->
        <form method="POST" action="/predictions">
            <input type="hidden" name="ticker" id="download-ticker" value="{{ ticker or '' }}">
            <button type="submit" name="download_csv" class="download-btn">Download CSV</button>
        </form>
    </div>
</section>


    <!-- Footer Section -->
    <footer>
        <div class="footer-content">
            <div class="footer-item">
                <h3>About Us</h3>
                <p>ForeStock is a predictive platform that combines stock forecasting with sentiment analysis to provide real-time insights on the stock market.</p>
            </div>
            <div class="footer-item">
                <h3>Contact Us</h3>
                <ul class="contact-links">
                    <li>Email: <a href="mailto:contact@forestock.com">contact@forestock.com</a></li>
                    <li>Phone: +1 234 567 890</li>
                    <li>Address: 123 Stock St., New York, NY</li>
                </ul>
            </div>
            <div class="footer-item">
                <h3>Follow Us</h3>
                <ul class="social-links">
                    <li><a href="https://facebook.com/ForeStock" target="_blank"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="https://twitter.com/ForeStock" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                    <li><a href="https://linkedin.com/company/ForeStock" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                    <li><a href="https://instagram.com/ForeStock" target="_blank"><i class="fab fa-instagram"></i> Instagram</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/app.js') }}" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</body>
</html>
